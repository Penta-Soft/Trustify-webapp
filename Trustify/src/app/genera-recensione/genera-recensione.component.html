<div id="form-new-review">
  <form [formGroup]="form" (ngSubmit)="onSubmit(form)">
    <fieldset>
      <legend>Nuova recensione</legend>
      <mat-form-field appearance="fill">
        <input id="address" matInput minlength="42" maxlength="42" #address inputmode="address"
          placeholder="Indirizzo attivitÃ  da recensire" formControlName="address" #nameInput required>
        <mat-error class="errorMsg" *ngIf="form.controls['address'].errors?.['required']">Inserire un
          indirizzo</mat-error>
        <mat-error class="errorMsg" *ngIf="form.controls['address'].errors?.['pattern']">L'indirizzo non rispetta il
          formato corretto</mat-error>
        <mat-hint>inserire Indirizzo tipo 0x...</mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <textarea id="review" matInput rows="8" #review placeholder="Recensione" formControlName="review"
          required></textarea>
        <mat-hint>inserire recensione</mat-hint>
      </mat-form-field>

      <h3>Valutazione:</h3>
      <app-star-rating [rating]="rating" (ratingUpdated)="onRatingChanged($event)"></app-star-rating>
      <p id="rating" class="body-2">
        Your rated <span class="body-2">{{rating}}</span> / <span class="body-2">{{starCount}}</span>
      </p>
      <button id="btn-submit" mat-raised-button type="submit">Inserisci</button>
    </fieldset>
  </form>
</div>

<app-progress-spinner [overlay]="true" *ngIf="isProgressSpinnerVisible"></app-progress-spinner>